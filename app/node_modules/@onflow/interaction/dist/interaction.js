function n(){return(n=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function r(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var e='{\n  "tag":1,\n  "assigns":{},\n  "status":2,\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":null,\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null\n  },\n  "latestBlock": {\n    "isSealed":null\n  },\n  "block": {\n    "isSealed":null,\n    "id":null,\n    "height":null\n  },\n  "accountAddr":null,\n  "transactionId":null\n}',t=new Set(Object.keys(JSON.parse(e))),o=function(n){return Array.isArray(n)},s=function(n){return null==n},u="abcdefghijklmnopqrstuvwxyz0123456789".split(""),a=function(){return u[~~(Math.random()*u.length)]},i=function(){return Array.from({length:10},a).join("")},l=function(n){if("object"!=typeof n||s(n)||function(n){return"number"===n}(n))return!1;for(var e,o=function(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return r(n,void 0);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(n,void 0):void 0}}(n))){t&&(n=t);var o=0;return function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=n[Symbol.iterator]()).next.bind(t)}(t);!(e=o()).done;)if(!n.hasOwnProperty(e.value))return!1;return!0},c=function(n){return n.status=2,n},p=function(n){return function(r){return r.tag=n,c(r)}},f=function(r,e){return function(t){return t.accounts[e]=JSON.parse('{\n  "kind":1,\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),t.accounts[e].tempId=e,t.accounts[e].addr=r.addr,t.accounts[e].keyId=r.keyId,t.accounts[e].sequenceNum=r.sequenceNum,t.accounts[e].signature=r.signature,t.accounts[e].signingFunction=r.signingFunction,t.accounts[e].resolve=r.resolve,t.accounts[e].role=n({},t.accounts[e].role,r.role),c(t)}},m=p(1),x=p(2),d=p(4),g=p(8),v=p(16),y=p(32),k=p(64),h=p(256),A=p(512),B=p(128),T=function(n){return function(r){return Boolean(r.tag&n)}},I=T(1),S=T(2),O=T(4),G=T(8),N=T(16),b=T(32),P=T(64),E=T(256),w=T(512),C=T(128),_=function(n){return Boolean(1&n.status)},j=function n(r,e){void 0===e&&(e=[]);try{return Promise.resolve(r).then(function(o){if(r=function(n){for(var r=0,e=Object.keys(n);r<e.length;r++){var o=e[r];if(!t.has(o))throw new Error('"'+o+'" is an invalid root level Interaction property.')}return n}(o),_(r)||!e.length)return r;var u=e[0],a=e.slice(1);return Promise.resolve(u).then(function(e){if("function"==typeof e)return n(e(r),a);if(s(e)||!e)return n(r,a);if(l(e))return n(e,a);throw new Error("Invalid Interaction Composition")})})}catch(n){return Promise.reject(n)}},U=function n(){var r=[].slice.call(arguments),e=r[0],t=r[1];return o(e)&&null==t?function(r){return n(r,e)}:j(e,t)},L=function(n){return n};exports.ACCOUNT=1,exports.ARGUMENT=4,exports.BAD=1,exports.Bad=function(n,r){return n.status=1,n.reason=r,n},exports.GET_ACCOUNT=16,exports.GET_BLOCK_BY_HEIGHT=512,exports.GET_BLOCK_BY_ID=256,exports.GET_EVENTS=32,exports.GET_LATEST_BLOCK=64,exports.GET_TRANSACTION_STATUS=8,exports.OK=2,exports.Ok=c,exports.PARAM=2,exports.PING=128,exports.SCRIPT=2,exports.TRANSACTION=4,exports.UNKNOWN=1,exports.destroy=function(n){return function(r){return delete r.assigns[n],c(r)}},exports.get=function(n,r,e){return null==n.assigns[r]?e:n.assigns[r]},exports.interaction=function(){return JSON.parse(e)},exports.isAccount=function(n){return Boolean(1&n.kind)},exports.isArgument=function(n){return Boolean(4&n.kind)},exports.isBad=_,exports.isGetAccount=N,exports.isGetBlockByHeight=w,exports.isGetBlockById=E,exports.isGetEvents=b,exports.isGetLatestBlock=P,exports.isGetTransactionStatus=G,exports.isInteraction=l,exports.isOk=function(n){return Boolean(2&n.status)},exports.isParam=function(n){return Boolean(2&n.kind)},exports.isPing=C,exports.isScript=S,exports.isTransaction=O,exports.isUnknown=I,exports.makeArgument=function(n){return function(r){var e=i();return r.message.arguments.push(e),r.arguments[e]=JSON.parse('{\n  "kind":4,\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null\n}'),r.arguments[e].tempId=e,r.arguments[e].value=n.value,r.arguments[e].asArgument=n.asArgument,r.arguments[e].xform=n.xform,r.arguments[e].resolve=n.resolve,c(r)}},exports.makeAuthorizer=function(n){return function(r){var e=i();return r.authorizations.push(e),c(U(r,[f(n,e)]))}},exports.makeGetAccount=v,exports.makeGetBlockByHeight=A,exports.makeGetBlockById=h,exports.makeGetEvents=y,exports.makeGetLatestBlock=k,exports.makeGetTransactionStatus=g,exports.makeParam=function(n){return function(r){var e=i();return r.message.params.push(e),r.params[e]=JSON.parse('{\n  "kind":2,\n  "tempId":null,\n  "key":null,\n  "value":null,\n  "asParam":null,\n  "xform":null,\n  "resolve": null\n}'),r.params[e].tempId=e,r.params[e].key=n.key,r.params[e].value=n.value,r.params[e].asParam=n.asParam,r.params[e].xform=n.xform,r.params[e].resolve=n.resolve,c(r)}},exports.makePayer=function(n){return function(r){var e=i();return r.payer=e,c(U(r,[f(n,e)]))}},exports.makePing=B,exports.makeProposer=function(n){return function(r){var e=i();return r.proposer=e,c(U(r,[f(n,e)]))}},exports.makeScript=x,exports.makeTransaction=d,exports.makeUnknown=m,exports.pipe=U,exports.put=function(n,r){return function(e){return e.assigns[n]=r,c(e)}},exports.update=function(n,r){return void 0===r&&(r=L),function(e){return e.assigns[n]=r(e.assigns[n],e),c(e)}},exports.uuid=i,exports.why=function(n){return n.reason};
//# sourceMappingURL=interaction.js.map
