{"version":3,"file":"sdk.module.js","sources":["../src/interaction/interaction.js","../src/build/build.js","../src/response/response.js","../src/send/unary.js","../src/send/send-transaction.js","../src/send/send-get-transaction.js","../src/send/send-execute-script.js","../src/send/send-get-account.js","../src/send/send-get-events.js","../src/send/send-get-block.js","../src/send/send-get-block-header.js","../src/send/send-get-latest-block.js","../src/send/send-get-block-by-id.js","../src/send/send-get-block-by-height.js","../src/send/send-get-collection.js","../src/send/sdk-send.js","../src/send/send-get-transaction-status.js","../src/send/send-ping.js","../src/build/build-get-block.js","../src/build/build-get-account.js","../src/decode/decode.js","../src/resolve/resolve-ref-block-id.js","../src/resolve/resolve-cadence.js","../src/resolve/resolve-arguments.js","../src/encode/encode.js","../src/resolve/resolve-signatures.js","../src/resolve/resolve-accounts.js","../src/resolve/resolve-validators.js","../src/resolve/resolve-final-normalization.js","../src/resolve/resolve.js","../src/send/send.js","../src/decode/sdk-decode.js","../src/latest-block/latest-block.js","../src/account/account.js","../src/build/build-authorizations.js","../src/build/build-validator.js","../src/build/build-at-block-height.js","../src/build/build-at-block-id.js","../src/build/build-get-events.js","../src/build/build-get-events-at-block-height-range.js","../src/build/build-get-events-at-block-ids.js","../src/build/build-get-block-header.js","../src/build/build-get-latest-block.js","../src/build/build-get-block-by-id.js","../src/build/build-get-block-by-height.js","../src/build/build-get-collection.js","../src/build/build-get-transaction-status.js","../src/build/build-get-transaction.js","../src/build/build-limit.js","../src/build/build-arguments.js","../src/build/build-proposer.js","../src/build/build-payer.js","../src/build/build-ping.js","../src/build/build-ref.js","../src/build/build-script.js","../src/build/build-transaction.js","../src/build/build-invariant.js","../src/resolve/resolve-proposer-sequence-number.js","../src/sdk.js","../src/utils/deprecate.js"],"sourcesContent":["import {invariant} from \"@onflow/util-invariant\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const GET_LATEST_BLOCK /*              */ = \"GET_LATEST_BLOCK\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK_BY_ID /*               */ = \"GET_BLOCK_BY_ID\"\nexport const GET_BLOCK_BY_HEIGHT /*           */ = \"GET_BLOCK_BY_HEIGHT\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":null,\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nconst CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\")\nconst randChar = () => CHARS[~~(Math.random() * CHARS.length)]\nexport const uuid = () => Array.from({length: 10}, randChar).join(\"\")\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuid()\n\n  acct = typeof acct === \"function\" ? {resolve: acct} : acct\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuid()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makeGetLatestBlock /*          */ = makeIx(GET_LATEST_BLOCK)\nexport const makeGetBlockById /*            */ = makeIx(GET_BLOCK_BY_ID)\nexport const makeGetBlockByHeight /*        */ = makeIx(GET_BLOCK_BY_HEIGHT)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isGetLatestBlock /*          */ = is(GET_LATEST_BLOCK)\nexport const isGetBlockById /*            */ = is(GET_BLOCK_BY_ID)\nexport const isGetBlockByHeight /*        */ = is(GET_BLOCK_BY_HEIGHT)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {grpc} from \"@improbable-eng/grpc-web\"\nimport {NodeHttpTransport} from \"@improbable-eng/grpc-web-node-http-transport\"\n\ngrpc.setDefaultTransport(NodeHttpTransport())\n\nexport async function unary(host, method, request) {\n  return new Promise((resolve, reject) => {\n    grpc.unary(method, {\n      request: request,\n      host: host,\n      onEnd: ({status, statusMessage, message}) => {\n        if (status === grpc.Code.OK) {\n          resolve(message)\n        } else {\n          reject(new Error(statusMessage))\n        }\n      },\n    })\n  })\n}\n","import {AccessAPI, Transaction, SendTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst paddedHexBuffer = (hex, pad) =>\n  Buffer.from(hex.padStart(pad * 2, 0), \"hex\")\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\nconst addressBuffer = addr => paddedHexBuffer(addr, 8)\nconst argumentBuffer = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nexport async function sendTransaction(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const tx = new Transaction()\n  tx.setScript(scriptBuffer(ix.message.cadence))\n  tx.setGasLimit(ix.message.computeLimit)\n  tx.setReferenceBlockId(\n    ix.message.refBlock ? hexBuffer(ix.message.refBlock) : null\n  )\n  tx.setPayer(addressBuffer(sansPrefix(ix.accounts[ix.payer].addr)))\n  ix.message.arguments.forEach(arg =>\n    tx.addArguments(argumentBuffer(ix.arguments[arg].asArgument))\n  )\n  ix.authorizations\n    .map(tempId => ix.accounts[tempId].addr)\n    .reduce((prev, current) => {\n      return prev.find(item => item === current) ? prev : [...prev, current]\n    }, [])\n    .forEach(addr => tx.addAuthorizers(addressBuffer(sansPrefix(addr))))\n\n  const proposalKey = new Transaction.ProposalKey()\n  proposalKey.setAddress(\n    addressBuffer(sansPrefix(ix.accounts[ix.proposer].addr))\n  )\n  proposalKey.setKeyId(ix.accounts[ix.proposer].keyId)\n  proposalKey.setSequenceNumber(ix.accounts[ix.proposer].sequenceNum)\n\n  tx.setProposalKey(proposalKey)\n\n  // Apply Non Payer Signatures to Payload Signatures\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (!acct.role.payer && acct.signature != null) {\n        const sig = new Transaction.Signature()\n        sig.setAddress(addressBuffer(sansPrefix(acct.addr)))\n        sig.setKeyId(acct.keyId)\n        sig.setSignature(hexBuffer(acct.signature))\n        tx.addPayloadSignatures(sig)\n      }\n    } catch (error) {\n      console.error(\"Trouble applying payload signature\", {acct, ix})\n      throw error\n    }\n  }\n\n  // Apply Payer Signatures to Envelope Signatures\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (acct.role.payer && acct.signature != null) {\n        const sig = new Transaction.Signature()\n        sig.setAddress(addressBuffer(sansPrefix(acct.addr)))\n        sig.setKeyId(acct.keyId)\n        sig.setSignature(hexBuffer(acct.signature))\n        tx.addEnvelopeSignatures(sig)\n      }\n    } catch (error) {\n      console.error(\"Trouble applying envelope signature\", {acct, ix})\n      throw error\n    }\n  }\n\n  const req = new SendTransactionRequest()\n  req.setTransaction(tx)\n\n  var t1 = Date.now()\n  const res = await unary(opts.node, AccessAPI.SendTransaction, req)\n  var t2 = Date.now()\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.transactionId = u8ToHex(res.getId_asU8())\n\n  if (typeof window !== \"undefined\") {\n    window.dispatchEvent(\n      new CustomEvent(\"FLOW::TX\", {\n        detail: {txId: ret.transactionId, delta: t2 - t1},\n      })\n    )\n  }\n\n  return ret\n}\n","import {AccessAPI, GetTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetTransaction(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetTransactionRequest()\n  req.setId(hexBuffer(ix.transaction.id))\n\n  const res = await unary(opts.node, AccessAPI.GetTransaction, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const unwrapKey = key => ({\n    address: u8ToHex(key.getAddress_asU8()),\n    keyId: key.getKeyId(),\n    sequenceNumber: key.getSequenceNumber()\n  })\n\n  const unwrapSignature = sig => ({\n    address: u8ToHex(sig.getAddress_asU8()),\n    keyId: sig.getKeyId(),\n    signature: u8ToHex(sig.getSignature_asU8())\n  })\n\n  let transaction = res.getTransaction()\n  ret.transaction = {\n      script: Buffer.from(transaction.getScript_asU8()).toString(\"utf8\"),\n      args: (transaction.getArgumentsList()).map(arg => JSON.parse(Buffer.from(arg).toString(\"utf8\"))),\n      referenceBlockId: u8ToHex(transaction.getReferenceBlockId_asU8()),\n      gasLimit: transaction.getGasLimit(),\n      proposalKey: unwrapKey(transaction.getProposalKey()),\n      payer: u8ToHex(transaction.getPayer_asU8()),\n      authorizers: (transaction.getAuthorizersList()).map(u8ToHex),\n      payloadSignatures: (transaction.getPayloadSignaturesList()).map(unwrapSignature),\n      envelopeSignatures: (transaction.getEnvelopeSignaturesList()).map(unwrapSignature)\n  }\n\n  return ret\n}\n","import {ExecuteScriptAtLatestBlockRequest, ExecuteScriptAtBlockIDRequest, ExecuteScriptAtBlockHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst argumentBuffer = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendExecuteScript(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req\n  let res\n  if (ix.block.id) {\n    req = new ExecuteScriptAtBlockIDRequest()\n    \n    req.setBlockId(hexBuffer(ix.block.id))\n\n    const code = Buffer.from(ix.message.cadence, \"utf8\")\n    ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n    req.setScript(code)\n\n    res = await unary(opts.node, AccessAPI.ExecuteScriptAtBlockID, req)\n  } else if (ix.block.height) {\n    req = new ExecuteScriptAtBlockHeightRequest()\n\n    req.setBlockHeight(Number(ix.block.height))\n\n    const code = Buffer.from(ix.message.cadence, \"utf8\")\n    ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n    req.setScript(code)\n\n    res = await unary(opts.node, AccessAPI.ExecuteScriptAtBlockHeight, req) \n  } else {\n    req = new ExecuteScriptAtLatestBlockRequest()\n\n    const code = Buffer.from(ix.message.cadence, \"utf8\")\n    ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n    req.setScript(code)\n\n    res = await unary(opts.node, AccessAPI.ExecuteScriptAtLatestBlock, req)\n  }\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.encodedData = JSON.parse(Buffer.from(res.getValue_asU8()).toString(\"utf8\"))\n\n  return ret\n}\n","import {GetAccountAtLatestBlockRequest, GetAccountAtBlockHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst paddedHexBuffer = (hex, pad) =>\n  Buffer.from(hex.padStart(pad * 2, 0), \"hex\")\n\nconst addressBuffer = addr => paddedHexBuffer(addr, 8)\n\nexport async function sendGetAccount(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = ix.block.height ? new GetAccountAtBlockHeightRequest() : new GetAccountAtLatestBlockRequest()\n  if (ix.block.height) req.setBlockHeight(Number(ix.block.height))\n  req.setAddress(addressBuffer(sansPrefix(ix.account.addr)))\n\n  const res = await unary(opts.node, ix.block.height ? AccessAPI.GetAccountAtBlockHeight : AccessAPI.GetAccountAtLatestBlock, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const account = res.getAccount()\n\n  let contractsMap;\n  const contracts = (contractsMap = account.getContractsMap()) ? contractsMap.getEntryList().reduce((acc, contract) => ({\n    ...acc,\n    [contract[0]]: Buffer.from(contract[1] || new UInt8Array()).toString(\"utf8\")\n  }), {}) : {}\n\n  ret.account = {\n    address: withPrefix(u8ToHex(account.getAddress_asU8())),\n    balance: account.getBalance(),\n    code: Buffer.from(account.getCode_asU8() || new UInt8Array()).toString(\"utf8\"),\n    contracts,\n    keys: account.getKeysList().map(publicKey => ({\n      index: publicKey.getIndex(),\n      publicKey: u8ToHex(publicKey.getPublicKey_asU8()),\n      signAlgo: publicKey.getSignAlgo(),\n      hashAlgo: publicKey.getHashAlgo(),\n      weight: publicKey.getWeight(),\n      sequenceNumber: publicKey.getSequenceNumber(),\n      revoked: publicKey.getRevoked(),\n    })),\n  }\n\n  return ret\n}\n","import {GetEventsForHeightRangeRequest, GetEventsForBlockIDsRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetEvents(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n  \n  ix = await ix\n \n  let res\n  const req = ix.events.start ? new GetEventsForHeightRangeRequest() : new GetEventsForBlockIDsRequest()\n  req.setType(ix.events.eventType)\n  \n  if (ix.events.start) {\n    req.setStartHeight(Number(ix.events.start))\n    req.setEndHeight(Number(ix.events.end))\n\n    res = await unary(opts.node, AccessAPI.GetEventsForHeightRange, req)\n  } else {\n    ix.events.blockIds.forEach(id =>\n      req.addBlockIds(hexBuffer(id))\n    )\n\n    res = await unary(opts.node, AccessAPI.GetEventsForBlockIDs, req)\n  }\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const results = res.getResultsList()\n  ret.events = results.reduce((blocks, result) => {\n    const blockId = u8ToHex(result.getBlockId_asU8())\n    const blockHeight = result.getBlockHeight()\n    const blockTimestamp = result.getBlockTimestamp().toDate().toISOString()\n    const events = result.getEventsList()\n    events.forEach(event => {\n      blocks.push({\n        blockId,\n        blockHeight,\n        blockTimestamp,\n        type: event.getType(),\n        transactionId: u8ToHex(event.getTransactionId_asU8()),\n        transactionIndex: event.getTransactionIndex(),\n        eventIndex: event.getEventIndex(),\n        payload: JSON.parse(Buffer.from(event.getPayload_asU8()).toString(\"utf8\")),\n      })\n    })\n    return blocks\n  }, [])\n\n  return ret\n}\n","import {GetBlockByIDRequest, GetBlockByHeightRequest, GetLatestBlockRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlock(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req\n  let res\n  if (ix.block.id) {\n    req = new GetBlockByIDRequest()\n    req.setId(hexBuffer(ix.block.id))\n\n    res = await unary(opts.node, AccessAPI.GetBlockByID, req)\n  } else if (ix.block.height) {\n    req = new GetBlockByHeightRequest()\n    req.setHeight(Number(ix.block.height))\n    \n    res = await unary(opts.node, AccessAPI.GetBlockByHeight, req)\n  } else {\n    req = new GetLatestBlockRequest()\n\n    if (ix.block && ix.block.isSealed) {\n      req.setIsSealed(ix.block.isSealed)\n    }\n\n    res = await unary(opts.node, AccessAPI.GetLatestBlock, req)\n  }\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = (block.getSignaturesList()).map(u8ToHex)\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp().toDate().toISOString(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: (collectionGuarantee.getSignaturesList()).map(u8ToHex),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: (blockSeal.getExecutionReceiptSignaturesList()).map(u8ToHex),\n      resultApprovalSignatures: (blockSeal.getResultApprovalSignaturesList()).map(u8ToHex),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetLatestBlockHeaderRequest, GetBlockHeaderByIDRequest, GetBlockHeaderByHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlockHeader(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req\n  let res\n  if (ix.block.id) {\n    req = new GetBlockHeaderByIDRequest()\n    req.setId(hexBuffer(ix.block.id))\n\n    res = await unary(opts.node, AccessAPI.GetBlockHeaderByID, req)\n  } else if (ix.block.height) {\n    req = new GetBlockHeaderByHeightRequest()\n    req.setHeight(Number(ix.block.height))\n\n    res = await unary(opts.node, AccessAPI.GetBlockHeaderByHeight, req)\n  } else {\n    req = new GetLatestBlockHeaderRequest()\n\n    if (ix.block && ix.block.isSealed) {\n      req.setIsSealed(ix.block.isSealed)\n    }\n\n    res = await unary(opts.node, AccessAPI.GetLatestBlockHeader, req)\n  }\n\n  const blockHeader = res.getBlock()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.blockHeader = {\n    id: u8ToHex(blockHeader.getId_asU8()),\n    parentId: u8ToHex(blockHeader.getParentId_asU8()),\n    height: blockHeader.getHeight(),\n    timestamp: blockHeader.getTimestamp().toDate().toISOString(),\n  }\n\n  return ret\n}\n","import {GetLatestBlockRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\n\nconst latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/send Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nexport async function sendGetLatestBlock(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetLatestBlockRequest()\n\n  if (ix.latestBlock && ix.latestBlock.isSealed) {\n    req.setIsSealed(ix.latestBlock.isSealed)\n    latestBlockDeprecationNotice()\n  }\n\n  if (ix.block && ix.block.isSealed) {\n    req.setIsSealed(ix.block.isSealed)\n  }\n\n  const res = await unary(opts.node, AccessAPI.GetLatestBlock, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetBlockByIDRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlockById(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetBlockByIDRequest()\n  req.setId(hexBuffer(ix.block.id))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByID, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetBlockByHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\n\nexport async function sendGetBlockByHeight(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetBlockByHeightRequest()\n  req.setHeight(Number(ix.block.height))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByHeight, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetCollectionByIDRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetCollection(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req = new GetCollectionByIDRequest()\n  req.setId(hexBuffer(ix.collection.id))\n\n  let res = await unary(opts.node, AccessAPI.GetCollectionByID, req)\n\n  const collection = res.getCollection()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.collection = {\n    id: u8ToHex(collection.getId_asU8()),\n    transactionIds: (collection.getTransactionIdsList()).map(u8ToHex)\n  }\n\n  return ret\n}\n","import {\n    isTransaction,\n    isGetTransaction,\n    isGetTransactionStatus,\n    isScript,\n    isGetAccount,\n    isGetEvents,\n    isGetBlock,\n    isGetBlockHeader,\n    isGetLatestBlock,\n    isGetBlockById,\n    isGetBlockByHeight,\n    isPing,\n    isGetCollection,\n} from \"../interaction/interaction.js\"\nimport {sendTransaction} from \"./send-transaction.js\"\nimport {sendGetTransactionStatus} from \"./send-get-transaction-status.js\"\nimport {sendGetTransaction} from \"./send-get-transaction.js\"\nimport {sendExecuteScript} from \"./send-execute-script.js\"\nimport {sendGetAccount} from \"./send-get-account.js\"\nimport {sendGetEvents} from \"./send-get-events.js\"\nimport {sendGetBlock} from \"./send-get-block.js\"\nimport {sendGetBlockHeader} from \"./send-get-block-header.js\"\nimport {sendGetLatestBlock} from \"./send-get-latest-block.js\"\nimport {sendGetBlockById} from \"./send-get-block-by-id.js\"\nimport {sendGetBlockByHeight} from \"./send-get-block-by-height.js\"\nimport {sendGetCollection} from \"./send-get-collection.js\"\nimport {sendPing} from \"./send-ping.js\"\nimport {config} from \"@onflow/config\"\n\nexport const send = async (ix, opts = {}) => {\n    opts.node = opts.node || (await config().get(\"accessNode.api\"))\n    ix = await ix\n\n    switch (true) {\n        case isTransaction(ix):\n            return opts.sendTransaction ? opts.sendTransaction(ix, opts) : sendTransaction(ix, opts)\n        case isGetTransactionStatus(ix):\n            return opts.sendGetTransactionStatus ? opts.sendGetTransactionStatus(ix, opts) : sendGetTransactionStatus(ix, opts)\n        case isGetTransaction(ix):\n            return opts.sendGetTransaction ? opts.sendGetTransaction(ix, opts) : sendGetTransaction(ix, opts)\n        case isScript(ix):\n            return opts.sendExecuteScript ? opts.sendExecuteScript(ix, opts) : sendExecuteScript(ix, opts)\n        case isGetAccount(ix):\n            return opts.sendGetAccount ? opts.sendGetAccount(ix, opts) : sendGetAccount(ix, opts)\n        case isGetEvents(ix):\n            return opts.sendGetEvents ? opts.sendGetEvents(ix, opts) : sendGetEvents(ix, opts)\n        case isGetLatestBlock(ix):\n            return opts.sendGetLatestBlock ? opts.sendGetLatestBlock(ix, opts) : sendGetLatestBlock(ix,  opts)\n        case isGetBlock(ix):\n            return opts.sendGetBlock ? opts.sendGetBlock(ix, opts) : sendGetBlock(ix, opts)\n        case isGetBlockHeader(ix):\n            return opts.sendGetBlockHeader ? opts.sendGetBlockHeader(ix, opts) : sendGetBlockHeader(ix, opts)\n        case isGetBlockById(ix):\n            return opts.sendGetBlockById ? opts.sendGetBlockById(ix, opts) : sendGetBlockById(ix, opts)\n        case isGetBlockByHeight(ix):\n            return opts.sendGetBlockByHeight ? opts.sendGetBlockByHeight(ix, opts) : sendGetBlockByHeight(ix, opts)\n        case isGetCollection(ix):\n            return opts.sendGetCollection ? opts.sendGetCollection(ix, opts) : sendGetCollection(ix, opts)\n        case isPing(ix):\n            return opts.sendPing ? opts.sendPing(ix, opts) : sendPing(ix, opts)\n        default:\n            return ix\n    }\n}\n","import {AccessAPI, GetTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetTransactionStatus(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetTransactionRequest()\n  req.setId(hexBuffer(ix.transaction.id))\n\n  const res = await unary(opts.node, AccessAPI.GetTransactionResult, req)\n\n  let events = res.getEventsList()\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.transactionStatus = {\n    status: res.getStatus(),\n    statusCode: res.getStatusCode(),\n    errorMessage: res.getErrorMessage(),\n    events: events.map(event => ({\n      type: event.getType(),\n      transactionId: u8ToHex(event.getTransactionId_asU8()),\n      transactionIndex: event.getTransactionIndex(),\n      eventIndex: event.getEventIndex(),\n      payload: JSON.parse(Buffer.from(event.getPayload_asU8()).toString(\"utf8\")),\n    })),\n  }\n\n  return ret\n}\n","import {AccessAPI, PingRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nexport async function sendPing(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new PingRequest()\n\n  const res = await unary(opts.node, AccessAPI.Ping, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  return ret\n}\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    }\n  ])\n}\n","const latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async (i) => i\n\nconst decodeVoid = async () => null\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async (v) => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      (v) =>\n        new Promise(async (res) =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[\n      await recurseDecode(v.key, decoders, [...stack, v.key])\n    ] = await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeNumber,\n  Int: decodeNumber,\n  UInt8: decodeNumber,\n  Int8: decodeNumber,\n  UInt16: decodeNumber,\n  Int16: decodeNumber,\n  UInt32: decodeNumber,\n  Int32: decodeNumber,\n  UInt64: decodeNumber,\n  Int64: decodeNumber,\n  UInt128: decodeNumber,\n  Int128: decodeNumber,\n  UInt256: decodeNumber,\n  Int256: decodeNumber,\n  Word8: decodeNumber,\n  Word16: decodeNumber,\n  Word32: decodeNumber,\n  Word64: decodeNumber,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find((decoder) => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n  return await recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n\n  if (response.encodedData) {\n    return await decode(response.encodedData, decoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, decoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, decoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  }\n\n  return null\n}\n","import {isTransaction, Ok, interaction, pipe} from \"../interaction/interaction.js\"\nimport {send} from \"../send/sdk-send.js\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\n\nasync function getRefId (opts) {\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await send(ix, opts)\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nexport async function resolveCadence(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    var cadence = get(ix, \"ix.cadence\")\n    invariant(\n      isFn(cadence) || isString(cadence),\n      \"Cadence needs to be a function or a string.\"\n    )\n    if (isFn(cadence)) cadence = await cadence({})\n    invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n    ix.message.cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce(\n          (cadence, [key, value]) => cadence.replace(key, value),\n          cadence\n        )\n      )\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      ix.arguments[id].asArgument = cast(arg)\n    }\n  }\n\n  return ix\n}\n","import { encode } from '@onflow/rlp';\n\nexport const encodeTransactionPayload = tx => prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx => prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(tx.proposalKey.address),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(tx.payer),\n    tx.authorizers.map(addressBuffer),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  envelopeFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst envelopeFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  inside.delete(ix.payer)\n  return Array.from(inside)\n}\n\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set([ix.payer])\n  return Array.from(outside)\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    // if (!acct.role.proposer) {\n    //   ix.accounts[id].keyId = keyId\n    // }\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport const createSignableVoucher = ix => {\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n    payloadSigs: findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    })),\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: sansPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./resolve-signatures\"\n\nconst isFn = v => typeof v === \"function\"\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    var old = last || ax\n    if (isFn(ax.resolve)) ax = await ax.resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer && ix.payer === old.tempId) {\n        ix.payer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = [...authorizations, ax.tempId]\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import { get, pipe, Ok, Bad } from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, 'ix.validators', [])\n  return pipe(ix, validators.map(cb => ix => cb(ix, { Ok, Bad })))\n}   \n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\n\nimport {send} from \"../send/sdk-send.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveRefBlockId} from \"./resolve-ref-block-id.js\"\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\n\nexport const resolve = pipe([\n    resolveCadence,\n    resolveArguments,\n    resolveAccounts,\n    /* special */ execFetchRef,\n    /* special */ execFetchSequenceNumber,\n    resolveSignatures,\n    resolveFinalNormalization,\n    resolveValidators,\n])\n\nasync function execFetchRef(ix) {\n    if (isTransaction(ix) && ix.message.refBlock == null) {\n        ix.message.refBlock = (await send(build([getBlock()])).then(decode)).id\n    }\n    return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\nif (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n    ix.accounts[acct.tempId].sequenceNum = await send(await build([getAccount(acct.addr)])).then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n}\nreturn ix\n}\n  ","import {\n  interaction,\n  pipe,\n} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\nimport {send as defaultSend} from \"./sdk-send.js\"\n\nexport const send = async (args = [], opts = {}) => {\n  const sendFunction = await config().get(\"sdk.send\", opts.send || defaultSend)\n  const resolveFunction = await config().get(\n    \"sdk.resolve\",\n    opts.resolve || defaultResolve\n  )\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFunction(await resolveFunction(args), opts)\n}\n\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"@onflow/config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nexport function latestBlock(...args) {\n  let opts = args[1] || (typeof args[0] === \"object\" ? args[0] : undefined)\n  let isSealed = typeof args[0] === \"boolean\" ? args[0] : undefined\n\n  if (typeof args[0] === \"object\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )\n  }\n\n  return send([getBlock(isSealed)], opts).then(decode)\n}\n","import {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\nexport function account(address, opts) {\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n    return update('ix.validators', validators => \n        Array.isArray(validators) ? validators.push(cb) : [cb]\n    )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\")\n      if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEvents(eventType, start, end) {\n\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )  \n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockIds(eventType, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetLatestBlock} from \"../interaction/interaction.js\"\n\nexport function getLatestBlock(isSealed = false) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetLatestBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetBlockById} from \"../interaction/interaction.js\"\n\nexport function getBlockById(id) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetBlockById,\n    ix => {\n      ix.block.ids = [id]\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetBlockByHeight} from \"../interaction/interaction.js\"\n\nexport function getBlockByHeight(height) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetBlockByHeight,\n    ix => {\n      ix.block.height = height\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport async function payer(authz) {\n  return prepAccount(authz, {role: PAYER})\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([\n    makeScript,\n    put(\"ix.cadence\", template(...args))\n  ])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_COMPUTE_LIMIT = 10\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.computeLimit = ix.message.computeLimit || DEFAULT_COMPUTE_LIMIT\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import { Ok, Bad } from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, { Ok, Bad }) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport {send} from \"../send/sdk-send.js\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\n\nexport const resolveProposerSequenceNumber = ({ node }) => async (ix) => {\n  if (!(isTransaction(ix))) return Ok(ix)\n  if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n  const response = await send(await build([\n    getAccount(ix.accounts[ix.proposer].addr)\n  ]), { node })\n  const decoded = await decodeResponse(response)\n\n  ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n  return Ok(ix)\n}\n","import {deprecate} from \"./utils\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\n\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isGetLatestBlock,\n  isGetBlockById,\n  isGetBlockByHeight,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher} from \"./resolve/resolve-signatures\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {latestBlock} from \"./latest-block/latest-block.js\"\nexport {account} from \"./account/account.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getLatestBlock} from \"./build/build-get-latest-block.js\"\nexport {getBlockById} from \"./build/build-get-block-by-id.js\"\nexport {getBlockByHeight} from \"./build/build-get-block-by-height\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\n\n// Config\nexport {config} from \"@onflow/config\"\n\n// Deprecated\nexport const params = params =>\n  deprecate.error({\n    name: \"params\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\nexport const param = params =>\n  deprecate.warn({\n    name: \"param\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\n","const buildWarningMessage = ({name, transitionsPath}) => {\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst buildErrorMessage = ({name, transitionsPath}) => {\n  console.error(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst warn = deprecated => buildWarningMessage(deprecated)\n\nconst error = deprecated => {\n  buildErrorMessage(deprecated)\n}\n\nexport const deprecate = {\n  warn,\n  error,\n}\n"],"names":["IX","KEYS","Set","Object","keys","JSON","parse","interaction","CHARS","split","randChar","Math","random","length","uuid","Array","from","join","isArray","d","isNull","Ok","ix","status","Bad","reason","makeIx","wat","tag","prepAccount","acct","opts","invariant","role","ACCOUNT","tempId","accounts","resolve","authorizations","push","makeArgument","arg","message","arguments","value","asArgument","xform","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makeGetLatestBlock","makeGetBlockById","makeGetBlockByHeight","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isGetLatestBlock","isGetBlockById","isGetBlockByHeight","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isOk","isBad","why","recPipe","fns","body","recover","result","key","has","Error","hardMode","hd","rest","cur","isNumber","hasOwnProperty","isInteraction","e","then","pipe","arg1","arg2","identity","v","get","fallback","assigns","put","update","fn","destroy","build","response","unary","host","method","request","Promise","reject","grpc","onEnd","statusMessage","Code","OK","setDefaultTransport","NodeHttpTransport","hexBuffer","hex","Buffer","addressBuffer","addr","padStart","pad","u8ToHex","u8","toString","argumentBuffer","stringify","send","node","sendTransaction","defaultUnary","tx","Transaction","setScript","script","scriptBuffer","cadence","setGasLimit","computeLimit","setReferenceBlockId","refBlock","setPayer","sansPrefix","payer","forEach","addArguments","map","reduce","prev","current","find","item","addAuthorizers","proposalKey","ProposalKey","setAddress","proposer","setKeyId","keyId","setSequenceNumber","sequenceNum","setProposalKey","values","signature","sig","Signature","setSignature","addPayloadSignatures","error","console","addEnvelopeSignatures","req","SendTransactionRequest","setTransaction","t1","Date","now","AccessAPI","SendTransaction","res","t2","ret","transactionId","getId_asU8","window","dispatchEvent","CustomEvent","detail","txId","delta","sendGetTransactionStatus","GetTransactionRequest","setId","transaction","id","GetTransactionResult","events","getEventsList","transactionStatus","getStatus","statusCode","getStatusCode","errorMessage","getErrorMessage","event","type","getType","getTransactionId_asU8","transactionIndex","getTransactionIndex","eventIndex","getEventIndex","payload","getPayload_asU8","sendGetTransaction","GetTransaction","unwrapSignature","address","getAddress_asU8","getKeyId","getSignature_asU8","getTransaction","getScript_asU8","args","getArgumentsList","referenceBlockId","getReferenceBlockId_asU8","gasLimit","getGasLimit","getProposalKey","sequenceNumber","getSequenceNumber","getPayer_asU8","authorizers","getAuthorizersList","payloadSignatures","getPayloadSignaturesList","envelopeSignatures","getEnvelopeSignaturesList","sendExecuteScript","encodedData","getValue_asU8","block","ExecuteScriptAtBlockIDRequest","setBlockId","code","ExecuteScriptAtBlockID","height","ExecuteScriptAtBlockHeightRequest","setBlockHeight","Number","ExecuteScriptAtBlockHeight","ExecuteScriptAtLatestBlockRequest","ExecuteScriptAtLatestBlock","sendGetAccount","GetAccountAtBlockHeightRequest","GetAccountAtLatestBlockRequest","account","GetAccountAtBlockHeight","GetAccountAtLatestBlock","contractsMap","getAccount","contracts","getContractsMap","getEntryList","acc","contract","UInt8Array","withPrefix","balance","getBalance","getCode_asU8","getKeysList","publicKey","index","getIndex","getPublicKey_asU8","signAlgo","getSignAlgo","hashAlgo","getHashAlgo","weight","getWeight","revoked","getRevoked","sendGetEvents","results","getResultsList","blocks","blockId","getBlockId_asU8","blockHeight","getBlockHeight","blockTimestamp","getBlockTimestamp","toDate","toISOString","start","GetEventsForHeightRangeRequest","GetEventsForBlockIDsRequest","setType","eventType","setStartHeight","setEndHeight","end","GetEventsForHeightRange","blockIds","addBlockIds","GetEventsForBlockIDs","sendGetLatestBlock","GetLatestBlockRequest","latestBlock","isSealed","setIsSealed","replace","trim","GetLatestBlock","getBlock","collectionGuarantees","getCollectionGuaranteesList","blockSeals","getBlockSealsList","signatures","getSignaturesList","parentId","getParentId_asU8","getHeight","timestamp","getTimestamp","collectionGuarantee","collectionId","getCollectionId_asU8","blockSeal","executionReceiptId","getExecutionReceiptId_asU8","executionReceiptSignatures","getExecutionReceiptSignaturesList","resultApprovalSignatures","getResultApprovalSignaturesList","sendGetBlock","GetBlockByIDRequest","GetBlockByID","GetBlockByHeightRequest","setHeight","GetBlockByHeight","sendGetBlockHeader","blockHeader","GetBlockHeaderByIDRequest","GetBlockHeaderByID","GetBlockHeaderByHeightRequest","GetBlockHeaderByHeight","GetLatestBlockHeaderRequest","GetLatestBlockHeader","sendGetBlockById","sendGetBlockByHeight","sendGetCollection","GetCollectionByIDRequest","collection","GetCollectionByID","getCollection","transactionIds","getTransactionIdsList","sendPing","PingRequest","Ping","config","decodeNumber","num","_","stack","decodeImplicit","i","decodeComposite","composite","decoders","fields","recurseDecode","name","decoded","decoder","decoderLookup","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","optional","Reference","array","all","Dictionary","dictionary","Event","Resource","Struct","lookup","found","test","RegExp","substring","decodeInstructions","decode","customDecoders","decodeResponse","data","_exit2","resolveRefBlockId","getRefId","resolveCadence","isString","where","entries","isFn","resolveArguments","cast","leftPaddedHexBuffer","TRANSACTION_DOMAIN_TAG","padEnd","prependTransactionDomainTag","argumentToString","rlpEncode","encode","preparePayload","validatePayload","preparePayloadSignatures","signers","collectSigners","payloadSigs","signerIndex","sort","a","b","Map","addSigner","set","payloadFields","field","checkField","proposalKeyFields","isObject","check","defaultVal","envelopeFields","payloadSigFields","obj","base","missingFieldError","invalidFieldError","printFieldName","resolveSignatures","insideSigners","findInsideSigners","prepForEncoding","insidePayload","fetchSignature","outsideSigners","outside","findOutsideSigners","outsidePayload","validateEnvelope","prepareEnvelope","encodeOutsideMessage","inside","add","signingFunction","f_type","f_vsn","roles","voucher","createSignableVoucher","buildSignable","cid","Symbol","iterator","pact","state","s","o","_settle","bind","observer","_Pact","prototype","onFulfilled","onRejected","this","callback","_this","thenable","resolveAccounts","collectAccounts","last","depth","curr","target","step","_cycle","next","done","_isSettledPact","_fixup","TypeError","ax","old","authorizer","buildPreSignable","resolveValidators","validators","cb","resolveFinalNormalization","_send$then","defaultSend","sendFunction","defaultResolve","resolveFunction","decodersFromConfig","pattern","fromEntries","undefined","warn","authz","authorization","validator","atBlockHeight","atBlockId","getEvents","getEventsAtBlockHeightRange","getEventsAtBlockIds","getBlockHeader","getLatestBlock","getBlockById","ids","getBlockByHeight","getTransactionStatus","limit","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","predicate","resolveProposerSequenceNumber","params","transitionsPath","param"],"mappings":"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"}